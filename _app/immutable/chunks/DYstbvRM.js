import{F as y,G as U,H as g,I as Y,v as A,J as I,n as P,B as F,K as $,L as k,M as C,o as K,N as q,O as z,P as G,Q as H,D as Z,R as T,S as J,U as Q,b as D,V,W as x,X as O,Y as W,Z as X,_ as j,g as p,$ as ee,a0 as se,a1 as M,a2 as re,a3 as te,a4 as ae,f as ie,a5 as ne,a6 as fe,a7 as ue,z as ce,a8 as de,a9 as oe,aa as le,ab as he,ac as _e,ad as ve,ae as be}from"./DYBQGsGY.js";class pe{anchor;#s=new Map;#r=new Map;#e=new Map;#t=new Set;#a=!0;constructor(e,t=!0){this.anchor=e,this.#a=t}#i=()=>{var e=y;if(this.#s.has(e)){var t=this.#s.get(e),r=this.#r.get(t);if(r)U(r),this.#t.delete(t);else{var i=this.#e.get(t);i&&(this.#r.set(t,i.effect),this.#e.delete(t),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[a,f]of this.#s){if(this.#s.delete(a),a===e)break;const n=this.#e.get(f);n&&(g(n.effect),this.#e.delete(f))}for(const[a,f]of this.#r){if(a===t||this.#t.has(a))continue;const n=()=>{if(Array.from(this.#s.values()).includes(a)){var d=document.createDocumentFragment();$(f,d),d.append(A()),this.#e.set(a,{effect:f,fragment:d})}else g(f);this.#t.delete(a),this.#r.delete(a)};this.#a||!r?(this.#t.add(a),Y(f,n,!1)):n()}}};#n=e=>{this.#s.delete(e);const t=Array.from(this.#s.values());for(const[r,i]of this.#e)t.includes(r)||(g(i.effect),this.#e.delete(r))};ensure(e,t){var r=y,i=k();if(t&&!this.#r.has(e)&&!this.#e.has(e))if(i){var a=document.createDocumentFragment(),f=A();a.append(f),this.#e.set(e,{effect:I(()=>t(f)),fragment:a})}else this.#r.set(e,I(()=>t(this.anchor)));if(this.#s.set(r,e),i){for(const[n,u]of this.#r)n===e?r.skipped_effects.delete(u):r.skipped_effects.add(u);for(const[n,u]of this.#e)n===e?r.skipped_effects.delete(u.effect):r.skipped_effects.add(u.effect);r.oncommit(this.#i),r.ondiscard(this.#n)}else P&&(this.anchor=F),this.#i()}}function me(s,e,t=!1){P&&K();var r=new pe(s),i=t?q:0;function a(f,n){if(P){const d=z(s)===G;if(f===d){var u=H();Z(u),r.anchor=u,T(!1),r.ensure(f,n),T(!0);return}}r.ensure(f,n)}C(()=>{var f=!1;e((n,u=!0)=>{f=!0,a(u,n)}),f||a(!1,null)},i)}function w(s,e){return s===e||s?.[x]===e}function Ee(s={},e,t,r){return J(()=>{var i,a;return Q(()=>{i=a,a=[],D(()=>{s!==t(...a)&&(e(s,...a),i&&w(t(...i),s)&&e(null,...i))})}),()=>{V(()=>{a&&w(t(...a),s)&&e(null,...a)})}}),s}let b=!1,m=Symbol();function Re(s,e,t){const r=t[e]??={store:null,source:W(void 0),unsubscribe:O};if(r.store!==s&&!(m in t))if(r.unsubscribe(),r.store=s??null,s==null)r.source.v=void 0,r.unsubscribe=O;else{var i=!0;r.unsubscribe=X(s,a=>{i?r.source.v=a:M(r.source,a)}),i=!1}return s&&m in t?j(s):p(r.source)}function ye(s,e){return s.set(e),e}function Ae(){const s={};function e(){ee(()=>{for(var t in s)s[t].unsubscribe();se(s,m,{enumerable:!1,value:!0})})}return[s,e]}function Se(s){var e=b;try{return b=!1,[s(),b]}finally{b=e}}const ge={get(s,e){if(!s.exclude.includes(e))return s.props[e]},set(s,e){return!1},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Ie(s,e,t){return new Proxy({props:s,exclude:e},ge)}function Te(s,e,t,r){var i=!le||(t&he)!==0,a=(t&oe)!==0,f=(t&ve)!==0,n=r,u=!0,d=()=>(u&&(u=!1,n=f?D(r):r),n),l;if(a){var N=x in s||be in s;l=re(s,e)?.set??(N&&e in s?c=>s[e]=c:void 0)}var h,E=!1;a?[h,E]=Se(()=>s[e]):h=s[e],h===void 0&&r!==void 0&&(h=d(),l&&(i&&te(),l(h)));var o;if(i?o=()=>{var c=s[e];return c===void 0?d():(u=!0,c)}:o=()=>{var c=s[e];return c!==void 0&&(n=void 0),c===void 0?n:c},i&&(t&ae)===0)return o;if(l){var L=s.$$legacy;return(function(c,v){return arguments.length>0?((!i||!v||L||E)&&l(v?o():c),c):o()})}var S=!1,_=((t&_e)!==0?ie:ne)(()=>(S=!1,o()));a&&p(_);var B=ce;return(function(c,v){if(arguments.length>0){const R=v?p(_):i&&a?fe(c):c;return M(_,R),S=!0,n!==void 0&&(n=R),c}return ue&&S||(B.f&de)!==0?_.v:p(_)})}export{pe as B,Ae as a,Ee as b,ye as c,me as i,Te as p,Ie as r,Re as s};
